<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="partials/fragment :: head('Browse List')"></head>
<body>
<nav th:replace="partials/fragment :: navbar"></nav>
<div class="grid-container">
	<div class="page-header">Events</div>
	<main class="grid">
		<div class="flip-card" th:each="event: ${events}">
			<div class="flip-card-inner">
				<div class="flip-card-front">
					<div class="event-card-title">
						<span th:text="${event.title}"/>
					</div>
					<div class="event-description">
						<p><span th:text="${event.description}"/></p>
					</div>
				</div>
				<div class="flip-card-back">
					<br><img src="/img/il_logo.jpg" alt="Avatar" style="width:100px;height:100px;"><br>
					<p>
                        <span th:text="${event.location}"/>
						<br>
						<span th:text="${event.date}"/>
						<br>
						<span th:text="${event.time}"/>
                    </p>
					<form class="form" th:action="@{/profile/contact}" th:method="POST" style="margin: 0; padding: 0">
                        <p>Posted by: <a th:href="'/profile/' + ${event.getOwner().getUsername()}"><span th:text="${event.getOwner().getUsername()}"/></a>
						<input type="hidden" id="toUser" name="toUser" th:value="${event.getOwner().getId()}">
						<input type="hidden" id="subject" name="subject" th:value="'Event: ' + ${event.getTitle()}">
                            <br>
                            <span sec:authorize="isAuthenticated()">Contact the owner about this event:</span>
						<button type="submit" sec:authorize="isAuthenticated()"><i class="fa-regular fa-envelope" sec:authorize="isAuthenticated()"></i></button>
                        </p>
					</form>
				</div>
			</div>
		</div>
	</main>
</div>
<div th:replace="partials/fragment :: script"></div>
</body>
</html>
